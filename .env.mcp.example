# Supabase MCP Configuration for Local Development
# 複製此檔案為 .env.mcp 並填入實際值
# ⚠️ 警告: 不要提交包含真實憑證的 .env.mcp 檔案至版本控制

# ============================================
# 重要說明
# ============================================
# 
# GitHub Actions Secrets 已設置（僅供 CI/CD 使用）:
#   - SUPABASE_PROJECT_REF (已設定在 GitHub Secrets)
#   - SUPABASE_MCP_TOKEN (已設定在 GitHub Secrets)
#   - COPILOT_MCP_CONTEXT7 (已設定在 GitHub Secrets)
#
# 但這些 secrets 只在 GitHub Actions/Codespaces 中可用！
# 本地開發需要在此檔案中設定環境變數。
#
# ============================================

# ============================================
# Supabase MCP Server Configuration
# ============================================

# Supabase Project Reference ID
# 從 Supabase Dashboard URL 獲取: https://supabase.com/dashboard/project/[PROJECT_REF]
# 範例: zecsbstjqjqoytwgjyct
SUPABASE_PROJECT_REF=zecsbstjqjqoytwgjyct

# Supabase MCP Token (用於 MCP 連接)
# ⚠️ 注意: 變數名稱必須是 SUPABASE_MCP_TOKEN（與 GitHub Secrets 一致）
# 從 Supabase Dashboard 獲取: https://supabase.com/dashboard/account/tokens
# 步驟:
# 1. 登入 Supabase Dashboard
# 2. 前往 Account Settings > Access Tokens
# 3. 點擊 "Generate New Token"
# 4. 命名為 "MCP Access Token - Local Dev"
# 5. 複製 token 並貼上到下方
SUPABASE_MCP_TOKEN=your_supabase_mcp_token_here

# ============================================
# Context7 API Configuration
# ============================================

# Context7 API Key (用於獲取最新框架文檔)
# 從 Context7 Dashboard 獲取: https://context7.com
# 步驟:
# 1. 登入 Context7
# 2. 前往 API Keys 頁面
# 3. 生成新的 API Key
# 4. 複製並貼上到下方
COPILOT_MCP_CONTEXT7=your_context7_api_key_here

# ============================================
# 本地環境設定說明
# ============================================
# 
# 1. 複製此檔案:
#    cp .env.mcp.example .env.mcp
#
# 2. 填入實際的 Supabase 憑證
#
# 3. 重新啟動 VS Code 以載入環境變數
#
# 4. 測試 MCP 連接是否正常
#
# ============================================

# ============================================
# GitHub Codespaces / Actions 設定
# ============================================
#
# 對於 GitHub Codespaces 或 GitHub Actions，請在 Repository Settings 中設定 Secrets:
#
# 1. 前往 Repository > Settings > Secrets and variables > Codespaces
# 2. 新增以下 Secrets:
#    - SUPABASE_PROJECT_REF: your_project_ref
#    - SUPABASE_ACCESS_TOKEN: your_access_token
#
# 3. 對於 GitHub Actions，在 Actions secrets 中新增相同的值
#
# ============================================

# ============================================
# VS Code MCP 整合說明
# ============================================
#
# .vscode/mcp.json 會自動從此檔案讀取環境變數:
#
# {
#   "mcpServers": {
#     "supabase": {
#       "type": "http",
#       "url": "https://mcp.supabase.com/mcp?project_ref=${SUPABASE_PROJECT_REF}",
#       "headers": {
#         "Authorization": "Bearer ${SUPABASE_ACCESS_TOKEN}"
#       }
#     }
#   }
# }
#
# ============================================

# ============================================
# 安全性最佳實踐
# ============================================
#
# 1. 絕不提交 .env.mcp 至版本控制
# 2. 使用不同的 token 用於開發/測試/生產環境
# 3. 定期輪替 access tokens (建議每 90 天)
# 4. 限制 token 權限為最小必要範圍
# 5. 監控 token 使用情況以偵測異常活動
#
# ============================================
