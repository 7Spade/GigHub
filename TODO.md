# ğŸ¯ GigHub - å¾…è¾¦äº‹é …æ¸…å–®

> **ç‹€æ…‹**: âœ… ç¨‹å¼ç¢¼å·²å®Œæˆ | ğŸ”´ éœ€è¦æ‰‹å‹•åŸ·è¡Œè³‡æ–™åº«è¨­ç½®

---

## ğŸ“‹ ç«‹å³åŸ·è¡Œï¼ˆå¿…é ˆï¼‰

### âœ… Task 1: åŸ·è¡Œ SQL åˆå§‹åŒ–è…³æœ¬

**å„ªå…ˆç´š**: ğŸ”´ğŸ”´ğŸ”´ æœ€é«˜  
**é ä¼°æ™‚é–“**: 2 åˆ†é˜  
**è² è²¬äºº**: è³‡æ–™åº«ç®¡ç†å“¡ æˆ– é–‹ç™¼è€…

**æ­¥é©Ÿ**:
1. é–‹å•Ÿç€è¦½å™¨å‰å¾€: https://supabase.com/dashboard
2. ç™»å…¥å¸³è™Ÿ
3. é¸æ“‡å°ˆæ¡ˆ: `zecsbstjqjqoytwgjyct`
4. é»æ“Šå·¦å´é¸å–® **SQL Editor**
5. é»æ“Šå³ä¸Šè§’ **+ New query**
6. åœ¨æœ¬åœ°é–‹å•Ÿæª”æ¡ˆ: `docs/database/init_schema.sql`
7. è¤‡è£½å…¨éƒ¨å…§å®¹ï¼ˆCtrl+A, Ctrl+Cï¼‰
8. è²¼ä¸Šåˆ° SQL Editorï¼ˆCtrl+Vï¼‰
9. é»æ“Šå³ä¸‹è§’ç¶ è‰²æŒ‰éˆ• **RUN** æˆ–æŒ‰ Ctrl+Enter
10. ç­‰å¾…åŸ·è¡Œå®Œæˆï¼ˆæ‡‰è©²é¡¯ç¤º "Success"ï¼‰

**é©—è­‰**:
```sql
-- åœ¨ SQL Editor åŸ·è¡Œä»¥ä¸‹æŸ¥è©¢
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public'
  AND table_name IN ('blueprints', 'construction_logs');

-- æ‡‰è©²è¿”å› 2 è¡Œçµæœ
```

**å¦‚æœæˆåŠŸ**: âœ… æ‡‰è©²çœ‹åˆ°å…©å€‹è¡¨æ ¼åç¨±  
**å¦‚æœå¤±æ•—**: âŒ æª¢æŸ¥éŒ¯èª¤è¨Šæ¯ï¼Œå¯èƒ½æ˜¯æ¬Šé™å•é¡Œ

---

### âœ… Task 2: å»ºç«‹ Storage Bucket

**å„ªå…ˆç´š**: ğŸ”´ğŸ”´ğŸ”´ æœ€é«˜  
**é ä¼°æ™‚é–“**: 1 åˆ†é˜  
**è² è²¬äºº**: è³‡æ–™åº«ç®¡ç†å“¡ æˆ– é–‹ç™¼è€…

**æ­¥é©Ÿ**:
1. åœ¨ Supabase Dashboard ä¸­
2. é»æ“Šå·¦å´é¸å–® **Storage**
3. é»æ“Š **New bucket** æŒ‰éˆ•
4. å¡«å¯«è¡¨å–®:
   - Bucket name: `construction-photos`
   - âœ… å‹¾é¸ **Public bucket**
   - File size limit: `10` MB
5. é»æ“Š **Create bucket**

**é©—è­‰**:
- âœ… åœ¨ Storage é é¢æ‡‰è©²çœ‹åˆ° `construction-photos` bucket
- âœ… Status é¡¯ç¤ºç‚º Public

---

### âœ… Task 3: æœ¬åœ°ç’°å¢ƒè¨­ç½®

**å„ªå…ˆç´š**: ğŸŸ¡ğŸŸ¡ ä¸­  
**é ä¼°æ™‚é–“**: 3 åˆ†é˜  
**è² è²¬äºº**: æ¯ä½é–‹ç™¼è€…

**æ­¥é©Ÿ**:
```bash
# 1. ç¢ºä¿åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
cd /path/to/GigHub

# 2. å®‰è£ä¾è³´ï¼ˆå¦‚æœå°šæœªå®‰è£ï¼‰
yarn install

# 3. å»ºç«‹ .env æ–‡ä»¶ï¼ˆé¸æ“‡ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼‰

## æ–¹æ³• A: ä½¿ç”¨äº’å‹•å¼è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
./scripts/setup-env.sh
# æŒ‰ç…§æç¤ºè¼¸å…¥ Supabase URL å’Œ Keys

## æ–¹æ³• B: æ‰‹å‹•å»ºç«‹
cp .env.example .env
nano .env  # æˆ–ä½¿ç”¨ä»»ä½•ç·¨è¼¯å™¨
# å¡«å…¥ä»¥ä¸‹å…§å®¹:
# NG_PUBLIC_SUPABASE_URL="https://zecsbstjqjqoytwgjyct.supabase.co"
# NG_PUBLIC_SUPABASE_ANON_KEY="your-anon-key-here"

# 4. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
yarn start
```

**é©—è­‰**:
- âœ… é–‹å•Ÿ http://localhost:4200
- âœ… æŒ‰ F12 é–‹å•Ÿ Console
- âœ… æ‡‰è©²çœ‹åˆ° `[SupabaseService] Initialized with URL: https://zecsbstjqjqoytwgjyct.supabase.co`
- âœ… æ²’æœ‰ç´…è‰²éŒ¯èª¤è¨Šæ¯

---

## ğŸ” æ¸¬è©¦é©—è­‰ï¼ˆå»ºè­°ï¼‰

### âœ… Task 4: æ¸¬è©¦å·¥åœ°æ—¥èªŒåŠŸèƒ½

**å„ªå…ˆç´š**: ğŸŸ¡ ä¸­  
**é ä¼°æ™‚é–“**: 5 åˆ†é˜  
**è² è²¬äºº**: QA æˆ– é–‹ç™¼è€…

**æ¸¬è©¦æ­¥é©Ÿ**:
1. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼ï¼ˆyarn startï¼‰
2. å°èˆªåˆ°å·¥åœ°æ—¥èªŒé é¢
3. å˜—è©¦å»ºç«‹æ–°çš„æ–½å·¥æ—¥èªŒ
4. å¡«å¯«è¡¨å–®ä¸¦æäº¤
5. å˜—è©¦ä¸Šå‚³ç…§ç‰‡
6. æª¢æŸ¥æ—¥èªŒæ˜¯å¦æ­£ç¢ºé¡¯ç¤º

**é æœŸçµæœ**:
- âœ… å¯ä»¥æˆåŠŸå»ºç«‹æ—¥èªŒ
- âœ… å¯ä»¥æˆåŠŸä¸Šå‚³ç…§ç‰‡
- âœ… æ—¥èªŒåˆ—è¡¨æ­£ç¢ºé¡¯ç¤º
- âœ… æ²’æœ‰ Console éŒ¯èª¤

**å¦‚æœå¤±æ•—**:
- âŒ æª¢æŸ¥ Task 1 æ˜¯å¦å®Œæˆï¼ˆè³‡æ–™è¡¨ï¼‰
- âŒ æª¢æŸ¥ Task 2 æ˜¯å¦å®Œæˆï¼ˆStorageï¼‰
- âŒ æŸ¥çœ‹ç€è¦½å™¨ Console éŒ¯èª¤è¨Šæ¯

---

### âœ… Task 5: æ¸¬è©¦ä»»å‹™åŠŸèƒ½ï¼ˆé¸ç”¨ï¼‰

**å„ªå…ˆç´š**: ğŸŸ¢ ä½  
**é ä¼°æ™‚é–“**: 5 åˆ†é˜  
**è² è²¬äºº**: QA æˆ– é–‹ç™¼è€…

**æ³¨æ„**: ä»»å‹™åŠŸèƒ½ä½¿ç”¨ Firebaseï¼Œä¸åœ¨æœ¬æ¬¡ä¿®å¾©ç¯„åœ

**å¦‚æœä»»å‹™åŠŸèƒ½ä»æœ‰å•é¡Œ**:
1. æª¢æŸ¥ `src/environments/environment.ts` ä¸­çš„ Firebase é…ç½®
2. ç¢ºèª Firebase å°ˆæ¡ˆå·²å•Ÿç”¨ Firestore
3. æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡
4. æŸ¥çœ‹ Console éŒ¯èª¤è¨Šæ¯

---

## ğŸ“Š é€²åº¦è¿½è¹¤

| Task | ç‹€æ…‹ | å®Œæˆæ—¥æœŸ | å‚™è¨» |
|------|------|----------|------|
| 1. åŸ·è¡Œ SQL è…³æœ¬ | â¬œ å¾…åŸ·è¡Œ | - | å¿…é ˆ |
| 2. å»ºç«‹ Storage Bucket | â¬œ å¾…åŸ·è¡Œ | - | å¿…é ˆ |
| 3. æœ¬åœ°ç’°å¢ƒè¨­ç½® | â¬œ å¾…åŸ·è¡Œ | - | å»ºè­° |
| 4. æ¸¬è©¦å·¥åœ°æ—¥èªŒ | â¬œ å¾…æ¸¬è©¦ | - | å»ºè­° |
| 5. æ¸¬è©¦ä»»å‹™åŠŸèƒ½ | â¬œ å¾…æ¸¬è©¦ | - | é¸ç”¨ |

**æ›´æ–°æ–¹å¼**: å®Œæˆå¾Œå°‡ â¬œ æ”¹ç‚º âœ… ä¸¦å¡«å¯«æ—¥æœŸ

---

## ğŸš¨ å¸¸è¦‹å•é¡Œå¿«é€Ÿè§£æ±º

### å•é¡Œ 1: SQL è…³æœ¬åŸ·è¡Œå¤±æ•—

**éŒ¯èª¤**: `permission denied` æˆ– `role does not exist`

**è§£æ±º**:
1. ç¢ºèªä½¿ç”¨çš„æ˜¯ postgres (service_role) å¸³è™Ÿ
2. åœ¨ Supabase Dashboard Settings > Database ç¢ºèªæ¬Šé™
3. å˜—è©¦åˆ†æ®µåŸ·è¡Œï¼ˆå…ˆå»ºè¡¨ï¼Œå†å»º RLS æ”¿ç­–ï¼‰

### å•é¡Œ 2: æ‰¾ä¸åˆ°è¡¨æ ¼

**éŒ¯èª¤**: `relation "public.construction_logs" does not exist`

**è§£æ±º**:
1. å›åˆ° Task 1ï¼Œé‡æ–°åŸ·è¡Œ SQL è…³æœ¬
2. åœ¨ SQL Editor ç¢ºèªè¡¨æ ¼å­˜åœ¨:
   ```sql
   \dt public.*
   ```

### å•é¡Œ 3: ç…§ç‰‡ä¸Šå‚³å¤±æ•—

**éŒ¯èª¤**: `Storage bucket not found` æˆ– `Access denied`

**è§£æ±º**:
1. å›åˆ° Task 2ï¼Œç¢ºèª bucket å·²å»ºç«‹
2. ç¢ºèª bucket è¨­å®šç‚º Public
3. æª¢æŸ¥ RLS æ”¿ç­–ï¼ˆåœ¨ init_schema.sql ä¸­å·²åŒ…å«ï¼‰

### å•é¡Œ 4: æœ¬åœ°ç’°å¢ƒç„¡æ³•å•Ÿå‹•

**éŒ¯èª¤**: `Module not found` æˆ– `Cannot find module`

**è§£æ±º**:
```bash
# æ¸…ç†ä¸¦é‡æ–°å®‰è£
rm -rf node_modules .yarn/cache
yarn install

# æª¢æŸ¥ Node ç‰ˆæœ¬
node --version  # æ‡‰è©²æ˜¯ v20.x
```

---

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

### å¿«é€Ÿåƒè€ƒæ–‡ä»¶
- âš¡ 5 åˆ†é˜å¿«é€Ÿå•Ÿå‹•: [QUICKSTART.md](QUICKSTART.md)
- ğŸ“– å®Œæ•´è¨­ç½®æŒ‡å—: [SETUP.md](SETUP.md)
- ğŸ”§ æŠ€è¡“å¯¦æ–½ç´°ç¯€: [IMPLEMENTATION_SUMMARY.md](IMPLEMENTATION_SUMMARY.md)
- ğŸ’¾ è³‡æ–™åº«æ–‡ä»¶: [docs/database/README.md](docs/database/README.md)

### è¯çµ¡æ–¹å¼
- GitHub Issues: https://github.com/7Spade/GigHub/issues
- Email: support@gighub.dev

---

## âœ… å®Œæˆæª¢æŸ¥æ¸…å–®

ç•¶æ‰€æœ‰ä»»å‹™å®Œæˆå¾Œï¼Œæ‡‰è©²èƒ½å¤ :
- [x] ç¨‹å¼ç¢¼å·²æ›´æ–°ï¼ˆç”± Copilot å®Œæˆï¼‰
- [ ] SQL è…³æœ¬å·²åŸ·è¡Œ
- [ ] Storage Bucket å·²å»ºç«‹
- [ ] æœ¬åœ°ç’°å¢ƒå¯å•Ÿå‹•
- [ ] å·¥åœ°æ—¥èªŒåŠŸèƒ½æ­£å¸¸
- [ ] å¯ä»¥å»ºç«‹æ—¥èªŒ
- [ ] å¯ä»¥ä¸Šå‚³ç…§ç‰‡

**å…¨éƒ¨å®Œæˆå¾Œ**: ğŸ‰ ç³»çµ±æ‡‰è©²å¯ä»¥æ­£å¸¸é‹ä½œï¼

---

**æœ€å¾Œæ›´æ–°**: 2025-12-12  
**ç‰ˆæœ¬**: 1.0  
**ç‹€æ…‹**: ç­‰å¾…æ‰‹å‹•åŸ·è¡Œ Task 1 & 2
