---
# MCP Servers Configuration
# åƒè€ƒ: .github/agents/context7.agent.md
#
# âš ï¸ é‡è¦èªªæ˜ï¼š
# æ­¤æª”æ¡ˆæ˜¯é…ç½®ç¯„æœ¬ï¼Œå¯¦éš›çš„ MCP é…ç½®å·²åœ¨ GitHub è¨­å®šä¸­å®Œæˆï¼š
# https://github.com/7Spade/GigHub/settings/copilot/coding_agent
#
# ğŸŸ¢ å·²é…ç½®ä¸”å¯ç”¨çš„å·¥å…·ï¼š
# - context7: æ¡†æ¶æ–‡æª”æŸ¥è©¢
# - github: GitHub API æ“ä½œ  
# - supabase: é ç«¯è³‡æ–™åº«æ“ä½œ (project: zecsbstjqjqoytwgjyct)
# - redis: Redis Cloud å¿«å–æ“ä½œ
# - memory: å°ˆæ¡ˆçŸ¥è­˜è¨˜æ†¶ (.github/copilot/memory.jsonl)
# - sequential-thinking: çµæ§‹åŒ–æ¨ç†
# - software-planning-tool: åŠŸèƒ½è¦åŠƒ
# - filesystem: æª”æ¡ˆç³»çµ±æ“ä½œ
# - everything, time, fetch: é€šç”¨å·¥å…·
#
# æ‰€æœ‰å·¥å…·éƒ½å·²å®Œå…¨é…ç½®ï¼Œç„¡éœ€å†è¨­å®š secretsã€‚
# Copilot Agent å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸Šè¿°æ‰€æœ‰å·¥å…·ã€‚

mcp-servers:
  context7:
    type: http
    url: 'https://mcp.context7.com/mcp'
    headers: { 'CONTEXT7_API_KEY': '${{ secrets.COPILOT_MCP_CONTEXT7 }}' }
    tools: ['get-library-docs', 'resolve-library-id']

  # Supabase MCP server - ä½¿ç”¨èªªæ˜
  # èªªæ˜:
  # - æ­¤æ®µç‚ºç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°‡ Supabase MCP endpoint åŠ å…¥ `mcp-servers` é…ç½®ã€‚
  # - è«‹é¿å…åœ¨å…¬é–‹ repository ä¸­æ˜æ–‡æ”¾ç½®æˆæ¬Šé‡‘é‘°ã€‚å»ºè­°ä½¿ç”¨ GitHub Secrets æˆ– CI/CD ç’°å¢ƒè®Šæ•¸æ³¨å…¥ã€‚
  #   ä¾‹å¦‚åœ¨ GitHub Actions ä¸­å¯ç”¨ `${{ secrets.SUPABASE_MCP_TOKEN }}` ä¾†æ›¿ä»£æ˜æ–‡ tokenã€‚
  # - `tools: ["*"]` æœƒå…è¨±è©² MCP endpoint ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„å·¥å…·ï¼›åªæœ‰åœ¨å®Œå…¨ä¿¡ä»»è©² endpoint æ™‚æ‰æˆæ¬Šã€‚
  # ç¯„ä¾‹ï¼ˆå®‰å…¨ä½œæ³•ï¼‰ï¼šä½¿ç”¨ repository/CI secrets æ³¨å…¥å°ˆæ¡ˆè­˜åˆ¥èˆ‡ token
  # éœ€è¦åœ¨ repository Secrets ä¸­å»ºç«‹å…©å€‹å€¼ï¼š
  # - SUPABASE_PROJECT_REF: Supabase project ref (ä¾‹å¦‚ zecsbstjqjqoytwgjyct)
  # - SUPABASE_MCP_TOKEN: MCP ç”¨çš„ Supabase token
  # åœ¨ GitHub Actions ä¸­å¯ä½¿ç”¨ ${{ secrets.SUPABASE_PROJECT_REF }} / ${{ secrets.SUPABASE_MCP_TOKEN }}
  supabase:
    type: http
    url: 'https://mcp.supabase.com/mcp?project_ref=${{ secrets.SUPABASE_PROJECT_REF }}'
    headers:
      Authorization: 'Bearer ${{ secrets.SUPABASE_MCP_TOKEN }}'
    tools: ['*']

  # å‚™è¨»ï¼š
  # - è«‹å‹¿åœ¨å…¬é–‹ repository ä¸­æ”¾ç½®æ˜æ–‡ tokenã€‚ä½¿ç”¨ Secrets æˆ– CI ç’°å¢ƒè®Šæ•¸æ³¨å…¥ã€‚
  # - `tools: ['*']` æœƒæˆäºˆè©² endpoint å…¨éƒ¨å·¥å…·å­˜å–æ¬Šé™ï¼›åƒ…åœ¨å®Œå…¨ä¿¡ä»»è©² endpoint æ™‚ä½¿ç”¨ã€‚

  # æœ¬åœ°å·¥å…·ï¼ˆLocal MCP serversï¼‰ç¤ºä¾‹ï¼šé€é npx å•Ÿå‹•æœ¬æ©Ÿå·¥å…·å…¥å£
  sequential-thinking:
    type: local
    command: npx
    args:
      - -y
      - '@modelcontextprotocol/server-sequential-thinking'
    tools: ['*']

  software-planning-tool:
    type: local
    command: npx
    args:
      - -y
      - 'github:NightTrek/Software-planning-mcp'
    tools: ['*']

  everything:
    type: local
    command: npx
    args:
      - -y
      - '@modelcontextprotocol/server-everything'
    tools: ['*']

  filesystem:
    type: local
    command: npx
    args:
      - -y
      - '@modelcontextprotocol/server-filesystem'
      - './'
    tools: ['*']

  time:
    type: local
    command: npx
    args:
      - -y
      - '@modelcontextprotocol/server-time'
    tools: ['*']

  fetch:
    type: local
    command: npx
    args:
      - -y
      - '@modelcontextprotocol/server-fetch'
    tools: ['*']
